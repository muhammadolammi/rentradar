<html lang="en" class="dark">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>How I Created a Scalable, Go-Powered Notification System for Real-Time Alerts | by Yashbatra - Freedium
    </title>

    <meta name="description"
        content="In today&amp;#39s fast-paced world, real-time notifications are everywhere. From app alerts to email...">
    <meta name="keywords" content="medium, paywall, medium.com, paywall breakthrough">

    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <!--<script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>-->

    <script src="/tailwindcssv3-freedium-hotfix.js"></script>

    <link href="https://glyph.medium.com/css/unbound.css" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#00aba9">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.4/dist/lazyload.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/lightense-images@1.0.17/dist/lightense.min.js"></script>

    <script>
        window._resizeIframe = function (obj) {
            const logMessage = `Received _resizeIframe call: iframe=${obj.iframe ? obj.iframe.id : 'unknown'}, height=${obj.height}`;
            if (obj.iframe) {
                obj.iframe.height = obj.height;
            }
            console.log(obj.iframe)
            console.log(logMessage);
        };
    </script>

    <script>
        window.addEventListener('message', function (event) {
            console.log('Event data:', JSON.stringify(event.data))
            if (typeof event.data === 'string') {
                let parsedData = JSON.parse(event.data);
                console.log('Event data type:', typeof parsedData)
                if (parsedData && parsedData.method === 'iframe.resize' && parsedData.context === 'iframe.resize') {
                    console.log('Resizing iframe - Source:', parsedData.src, 'Height:', parsedData.height, 'Method:', parsedData.method)
                    const iframes = document.querySelectorAll('iframe');
                    for (let iframe of iframes) {
                        if (iframe.src === parsedData.src) {
                            console.log('Setting iframe height to:', parsedData.height)
                            console.log(iframe)
                            iframe.height = parsedData.height;
                            break;
                        }
                    }
                }
            }
        });
    </script>

    <style>
        .responsive-object {
            position: relative;
            height: 0;
            overflow: hidden;
            margin: 10px 0;
        }

        .responsive-object iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <style>
        *,
        ::before,
        ::after {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        ::backdrop {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        /* ! tailwindcss v3.4.15 | MIT License | https://tailwindcss.com */
        *,
        ::after,
        ::before {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: #e5e7eb
        }

        ::after,
        ::before {
            --tw-content: ''
        }

        :host,
        html {
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -moz-tab-size: 4;
            tab-size: 4;
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-feature-settings: normal;
            font-variation-settings: normal;
            -webkit-tap-highlight-color: transparent
        }

        body {
            margin: 0;
            line-height: inherit
        }

        hr {
            height: 0;
            color: inherit;
            border-top-width: 1px
        }

        abbr:where([title]) {
            -webkit-text-decoration: underline dotted;
            text-decoration: underline dotted
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-size: inherit;
            font-weight: inherit
        }

        a {
            color: inherit;
            text-decoration: inherit
        }

        b,
        strong {
            font-weight: bolder
        }

        code,
        kbd,
        pre,
        samp {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-feature-settings: normal;
            font-variation-settings: normal;
            font-size: 1em
        }

        small {
            font-size: 80%
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline
        }

        sub {
            bottom: -.25em
        }

        sup {
            top: -.5em
        }

        table {
            text-indent: 0;
            border-color: inherit;
            border-collapse: collapse
        }

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit;
            font-feature-settings: inherit;
            font-variation-settings: inherit;
            font-size: 100%;
            font-weight: inherit;
            line-height: inherit;
            letter-spacing: inherit;
            color: inherit;
            margin: 0;
            padding: 0
        }

        button,
        select {
            text-transform: none
        }

        button,
        input:where([type=button]),
        input:where([type=reset]),
        input:where([type=submit]) {
            -webkit-appearance: button;
            background-color: transparent;
            background-image: none
        }

        :-moz-focusring {
            outline: auto
        }

        :-moz-ui-invalid {
            box-shadow: none
        }

        progress {
            vertical-align: baseline
        }

        ::-webkit-inner-spin-button,
        ::-webkit-outer-spin-button {
            height: auto
        }

        [type=search] {
            -webkit-appearance: textfield;
            outline-offset: -2px
        }

        ::-webkit-search-decoration {
            -webkit-appearance: none
        }

        ::-webkit-file-upload-button {
            -webkit-appearance: button;
            font: inherit
        }

        summary {
            display: list-item
        }

        blockquote,
        dd,
        dl,
        figure,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        hr,
        p,
        pre {
            margin: 0
        }

        fieldset {
            margin: 0;
            padding: 0
        }

        legend {
            padding: 0
        }

        menu,
        ol,
        ul {
            list-style: none;
            margin: 0;
            padding: 0
        }

        dialog {
            padding: 0
        }

        textarea {
            resize: vertical
        }

        input::placeholder,
        textarea::placeholder {
            opacity: 1;
            color: #9ca3af
        }

        [role=button],
        button {
            cursor: pointer
        }

        :disabled {
            cursor: default
        }

        audio,
        canvas,
        embed,
        iframe,
        img,
        object,
        svg,
        video {
            display: block;
            vertical-align: middle
        }

        img,
        video {
            max-width: 100%;
            height: auto
        }

        [hidden]:where(:not([hidden=until-found])) {
            display: none
        }

        .container {
            width: 100%
        }

        @media (min-width: 640px) {
            .container {
                max-width: 640px
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 768px
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1024px
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: 1280px
            }
        }

        @media (min-width: 1536px) {
            .container {
                max-width: 1536px
            }
        }

        .fixed {
            position: fixed
        }

        .absolute {
            position: absolute
        }

        .relative {
            position: relative
        }

        .inset-0 {
            inset: 0px
        }

        .bottom-0 {
            bottom: 0px
        }

        .bottom-4 {
            bottom: 1rem
        }

        .left-4 {
            left: 1rem
        }

        .right-0 {
            right: 0px
        }

        .top-0 {
            top: 0px
        }

        .top-5 {
            top: 1.25rem
        }

        .z-20 {
            z-index: 20
        }

        .m-1\.5 {
            margin: 0.375rem
        }

        .m-2 {
            margin: 0.5rem
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto
        }

        .my-8 {
            margin-top: 2rem;
            margin-bottom: 2rem
        }

        .mb-2 {
            margin-bottom: 0.5rem
        }

        .mb-4 {
            margin-bottom: 1rem
        }

        .mr-3 {
            margin-right: 0.75rem
        }

        .mt-0 {
            margin-top: 0px
        }

        .mt-1 {
            margin-top: 0.25rem
        }

        .mt-2 {
            margin-top: 0.5rem
        }

        .mt-3 {
            margin-top: 0.75rem
        }

        .mt-4 {
            margin-top: 1rem
        }

        .mt-5 {
            margin-top: 1.25rem
        }

        .mt-7 {
            margin-top: 1.75rem
        }

        .mt-8 {
            margin-top: 2rem
        }

        .block {
            display: block
        }

        .inline-block {
            display: inline-block
        }

        .flex {
            display: flex
        }

        .hidden {
            display: none
        }

        .h-1 {
            height: 0.25rem
        }

        .h-11 {
            height: 2.75rem
        }

        .h-3 {
            height: 0.75rem
        }

        .h-full {
            height: 100%
        }

        .max-h-\[95vh\] {
            max-height: 95vh
        }

        .max-h-screen {
            max-height: 100vh
        }

        .w-11 {
            width: 2.75rem
        }

        .w-11\/12 {
            width: 91.666667%
        }

        .w-3 {
            width: 0.75rem
        }

        .w-full {
            width: 100%
        }

        .flex-1 {
            flex: 1 1 0%
        }

        .flex-shrink-0 {
            flex-shrink: 0
        }

        .flex-grow {
            flex-grow: 1
        }

        .list-decimal {
            list-style-type: decimal
        }

        .list-disc {
            list-style-type: disc
        }

        .appearance-none {
            -webkit-appearance: none;
            appearance: none
        }

        .flex-col {
            flex-direction: column
        }

        .flex-wrap {
            flex-wrap: wrap
        }

        .items-center {
            align-items: center
        }

        .justify-end {
            justify-content: flex-end
        }

        .justify-center {
            justify-content: center
        }

        .justify-between {
            justify-content: space-between
        }

        .gap-2 {
            gap: 0.5rem
        }

        .space-x-2> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(0.5rem * var(--tw-space-x-reverse));
            margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))
        }

        .space-x-4> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(1rem * var(--tw-space-x-reverse));
            margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)))
        }

        .overflow-x-auto {
            overflow-x: auto
        }

        .overflow-y-auto {
            overflow-y: auto
        }

        .break-normal {
            overflow-wrap: normal;
            word-break: normal
        }

        .break-words {
            overflow-wrap: break-word
        }

        .rounded {
            border-radius: 0.25rem
        }

        .rounded-full {
            border-radius: 9999px
        }

        .rounded-lg {
            border-radius: 0.5rem
        }

        .rounded-md {
            border-radius: 0.375rem
        }

        .border {
            border-width: 1px
        }

        .border-2 {
            border-width: 2px
        }

        .border-gray-300 {
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity, 1))
        }

        .border-gray-600 {
            --tw-border-opacity: 1;
            border-color: rgb(75 85 99 / var(--tw-border-opacity, 1))
        }

        .border-white {
            --tw-border-opacity: 1;
            border-color: rgb(255 255 255 / var(--tw-border-opacity, 1))
        }

        .bg-black {
            --tw-bg-opacity: 1;
            background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(107 114 128 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1))
        }

        .bg-green-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1))
        }

        .bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1))
        }

        .bg-red-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1))
        }

        .bg-white {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1))
        }

        .bg-yellow-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(234 179 8 / var(--tw-bg-opacity, 1))
        }

        .bg-opacity-50 {
            --tw-bg-opacity: 0.5
        }

        .fill-current {
            fill: currentColor
        }

        .p-1\.5 {
            padding: 0.375rem
        }

        .p-2 {
            padding: 0.5rem
        }

        .p-4 {
            padding: 1rem
        }

        .p-5 {
            padding: 1.25rem
        }

        .p-1 {
            padding: 0.25rem
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem
        }

        .py-3 {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem
        }

        .py-4 {
            padding-top: 1rem;
            padding-bottom: 1rem
        }

        .pb-2 {
            padding-bottom: 0.5rem
        }

        .pb-3 {
            padding-bottom: 0.75rem
        }

        .pb-5 {
            padding-bottom: 1.25rem
        }

        .pl-4 {
            padding-left: 1rem
        }

        .pl-8 {
            padding-left: 2rem
        }

        .pr-4 {
            padding-right: 1rem
        }

        .pt-1 {
            padding-top: 0.25rem
        }

        .pt-12 {
            padding-top: 3rem
        }

        .pt-20 {
            padding-top: 5rem
        }

        .pt-6 {
            padding-top: 1.5rem
        }

        .pt-8 {
            padding-top: 2rem
        }

        .text-left {
            text-align: left
        }

        .text-center {
            text-align: center
        }

        .font-sans {
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem
        }

        .text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem
        }

        .text-base {
            font-size: 1rem;
            line-height: 1.5rem
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem
        }

        .font-bold {
            font-weight: 700
        }

        .font-extrabold {
            font-weight: 800
        }

        .font-medium {
            font-weight: 500
        }

        .font-semibold {
            font-weight: 600
        }

        .leading-8 {
            line-height: 2rem
        }

        .leading-normal {
            line-height: 1.5
        }

        .leading-tight {
            line-height: 1.25
        }

        .text-black {
            --tw-text-opacity: 1;
            color: rgb(0 0 0 / var(--tw-text-opacity, 1))
        }

        .text-gray-500 {
            --tw-text-opacity: 1;
            color: rgb(107 114 128 / var(--tw-text-opacity, 1))
        }

        .text-gray-600 {
            --tw-text-opacity: 1;
            color: rgb(75 85 99 / var(--tw-text-opacity, 1))
        }

        .text-gray-700 {
            --tw-text-opacity: 1;
            color: rgb(55 65 81 / var(--tw-text-opacity, 1))
        }

        .text-gray-800 {
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity, 1))
        }

        .text-gray-900 {
            --tw-text-opacity: 1;
            color: rgb(17 24 39 / var(--tw-text-opacity, 1))
        }

        .text-green-500 {
            --tw-text-opacity: 1;
            color: rgb(34 197 94 / var(--tw-text-opacity, 1))
        }

        .text-white {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity, 1))
        }

        .text-yellow-500 {
            --tw-text-opacity: 1;
            color: rgb(234 179 8 / var(--tw-text-opacity, 1))
        }

        .no-underline {
            -webkit-text-decoration-line: none;
            text-decoration-line: none
        }

        .shadow {
            --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-lg {
            --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-sm {
            --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .transition-colors {
            transition-property: color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .hover\:border-green-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94 / var(--tw-border-opacity, 1))
        }

        .hover\:bg-blue-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-blue-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-gray-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-red-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-yellow-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(202 138 4 / var(--tw-bg-opacity, 1))
        }

        .hover\:text-gray-900:hover {
            --tw-text-opacity: 1;
            color: rgb(17 24 39 / var(--tw-text-opacity, 1))
        }

        .hover\:underline:hover {
            -webkit-text-decoration-line: underline;
            text-decoration-line: underline
        }

        .hover\:no-underline:hover {
            -webkit-text-decoration-line: none;
            text-decoration-line: none
        }

        .focus\:outline-none:focus {
            outline: 2px solid transparent;
            outline-offset: 2px
        }

        .focus\:ring-2:focus {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)
        }

        .focus\:ring-blue-500:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))
        }

        .dark\:border-gray-700:is(.dark *) {
            --tw-border-opacity: 1;
            border-color: rgb(55 65 81 / var(--tw-border-opacity, 1))
        }

        .dark\:bg-gray-600:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1))
        }

        .dark\:bg-gray-800:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1))
        }

        .dark\:bg-gray-900:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(17 24 39 / var(--tw-bg-opacity, 1))
        }

        .dark\:bg-green-700:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(21 128 61 / var(--tw-bg-opacity, 1))
        }

        .dark\:bg-green-800:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(22 101 52 / var(--tw-bg-opacity, 1))
        }

        .dark\:bg-zinc-800:is(.dark *) {
            --tw-bg-opacity: 1;
            background-color: rgb(39 39 42 / var(--tw-bg-opacity, 1))
        }

        .dark\:text-gray-100:is(.dark *) {
            --tw-text-opacity: 1;
            color: rgb(243 244 246 / var(--tw-text-opacity, 1))
        }

        .dark\:text-gray-200:is(.dark *) {
            --tw-text-opacity: 1;
            color: rgb(229 231 235 / var(--tw-text-opacity, 1))
        }

        .dark\:text-white:is(.dark *) {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity, 1))
        }

        .dark\:text-yellow-400:is(.dark *) {
            --tw-text-opacity: 1;
            color: rgb(250 204 21 / var(--tw-text-opacity, 1))
        }

        .dark\:hover\:text-white:hover:is(.dark *) {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity, 1))
        }

        @media (min-width: 768px) {
            .md\:inline {
                display: inline
            }

            .md\:max-w-3xl {
                max-width: 48rem
            }

            .md\:max-w-4xl {
                max-width: 56rem
            }

            .md\:max-w-xl {
                max-width: 36rem
            }

            .md\:px-6 {
                padding-left: 1.5rem;
                padding-right: 1.5rem
            }

            .md\:text-2xl {
                font-size: 1.5rem;
                line-height: 2rem
            }

            .md\:text-4xl {
                font-size: 2.25rem;
                line-height: 2.5rem
            }

            .md\:text-sm {
                font-size: 0.875rem;
                line-height: 1.25rem
            }

            .md\:text-xl {
                font-size: 1.25rem;
                line-height: 1.75rem
            }
        }

        @media (min-width: 1024px) {
            .lg\:mt-0 {
                margin-top: 0px
            }

            .lg\:block {
                display: block
            }

            .lg\:flex {
                display: flex
            }

            .lg\:hidden {
                display: none
            }

            .lg\:w-auto {
                width: auto
            }

            .lg\:items-center {
                align-items: center
            }
        }
    </style>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/androidstudio.min.css">
    <style id="lightense-images-css">
        :root {
            --lightense-z-index: 999999;
            --lightense-backdrop: var(--bg-color-80, rgba(255, 255, 255, .98));
            --lightense-duration: 300ms;
            --lightense-timing-func: cubic-bezier(.2, 0, .1, 1);
        }

        .lightense-backdrop {
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            overflow: hidden;
            z-index: calc(var(--lightense-z-index) - 1);
            padding: 0;
            margin: 0;
            transition: opacity var(--lightense-duration) ease;
            cursor: zoom-out;
            opacity: 0;
            background-color: var(--lightense-backdrop);
            visibility: hidden;
        }

        @supports (-webkit-backdrop-filter: blur(30px)) {
            .lightense-backdrop {
                background-color: var(--lightense-backdrop);
                -webkit-backdrop-filter: blur(30px);
            }
        }

        @supports (backdrop-filter: blur(30px)) {
            .lightense-backdrop {
                background-color: var(--lightense-backdrop);
                backdrop-filter: blur(30px);
            }
        }

        .lightense-wrap {
            position: relative;
            transition: transform var(--lightense-duration) var(--lightense-timing-func);
            z-index: var(--lightense-z-index);
            pointer-events: none;
        }

        .lightense-target {
            cursor: zoom-in;
            transition: transform var(--lightense-duration) var(--lightense-timing-func);
            pointer-events: auto;
        }

        .lightense-open {
            cursor: zoom-out;
        }

        .lightense-transitioning {
            pointer-events: none;
        }
    </style>
</head>

<body class="bg-white dark:bg-gray-800" data-new-gr-c-s-check-loaded="14.1256.0" data-gr-ext-installed="">
    <div class="fixed bottom-4 left-4 hidden" style="z-index: 999999;">
        <button id="openProblemModal"
            class="m-1.5 flex items-center bg-red-500 text-white py-2 px-4 rounded-full shadow-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <style>
                    svg {
                        fill: #ffffff
                    }
                </style>
                <path
                    d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z">
                </path>
            </svg>
        </button>
        <button id="darkModeToggle"
            class="m-1.5 flex items-center bg-blue-500 text-white py-2 px-4 rounded-full shadow-lg hover:bg-blue-600 focus:outline-none">
            <svg id="darkIcon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512">
                <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path
                    d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z">
                </path>
            </svg>
            <!-- SVG icon for light mode (e.g., a sun) -->
            <svg class="hidden" id="lightIcon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path
                    d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z">
                </path>
            </svg>
        </button>
    </div>

    <div class="notification-container fixed top-5 p-2 max-h-[95vh] overflow-y-auto hidden" style="z-index: 999999;">
        <div class="p-5 text-center bg-white border border-gray-300 rounded-md shadow-sm dark:bg-gray-800">
            <p class="pb-5 text-2xl text-black dark:text-white">Important Notice: DMCA Resolution</p>
            <p class="pb-3 text-black dark:text-white">
                Dear Freedium users,
                <br>
                <br>
                We recently experienced downtime due to a trademark infringement complaint filed by Bolster Inc. on
                behalf of Canva.
                The complaint alleged that Freedium was using Canva's registered logos and trademarks without
                authorization.
                <br>
                <br>
                <strong>Important Clarification:</strong>
                <br>
                • Freedium has never used, displayed, or claimed affiliation with Canva's logos or trademarks
                <br>
                • Freedium is an independent platform dedicated to breaking Medium's paywall
                <br>
                • We have no connection whatsoever with Canva or any of its services
                <br>
                <br>
                The complaint was forwarded through Cloudflare to our hosting provider, which caused temporary service
                disruption.
                After investigation and clarification that no infringement occurred, normal service has been restored.
                <br>
                <br>
                We apologize for any inconvenience this may have caused and appreciate your understanding.
                Freedium continues to operate as an independent service focused on providing free access to quality
                content.
                <br>
                <br>
                Thank you for your continued support of our mission to keep knowledge free and accessible.
                <br>
                <br>
                <strong>Your support helps us maintain this service:</strong>
            </p>
            <div class="mt-4 space-x-2">
                <a href="https://patreon.com/Freedium" rel="noreferrer" target="_blank" title="Patreon">
                    <button
                        class="px-3 py-2 font-semibold text-white bg-red-500 rounded hover:bg-red-600 transition-colors">
                        Patreon
                    </button>
                </a>
                <a href="https://ko-fi.com/zhymabekroman" rel="noreferrer" target="_blank" title="Ko-fi">
                    <button
                        class="px-3 py-2 font-semibold text-white bg-blue-500 rounded hover:bg-blue-600 transition-colors">
                        Ko-fi
                    </button>
                </a>
                <a href="https://liberapay.com/ZhymabekRoman/" rel="noreferrer" target="_blank" title="Liberapay">
                    <button
                        class="px-3 py-2 font-semibold text-white bg-yellow-500 rounded hover:bg-yellow-600 transition-colors">
                        Liberapay
                    </button>
                </a>
            </div>
            <div class="mt-3">
                <button
                    class="px-4 py-2 font-semibold text-white bg-gray-600 rounded hover:bg-gray-700 transition-colors close-button">
                    Close
                </button>
            </div>
        </div>
    </div>

    <nav id="header" class="fixed top-0 w-full bg-white shadow z-9 dark:bg-gray-800 dark:text-white"
        style="z-index: 999990;">

        <div id="progress" class="top-0 z-20 h-1"
            style="background: linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0); --scroll: Infinity%;">
        </div>
        <div class="flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl">
            <div class="pl-4">
                <a class="text-base text-xl font-extrabold text-green-500 no-underline hover:no-underline" href="/"
                    onclick="navigateToOrigin()">Freedium</a>
            </div>
            <div class="block pr-4 lg:hidden">
                <button id="nav-toggle"
                    class="flex items-center px-3 py-2 text-gray-500 border border-gray-600 rounded appearance-none dark:text-white hover:text-gray-900 dark:hover:text-white hover:border-green-500 focus:outline-none">
                    <svg class="w-3 h-3 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <title>Menu</title>
                        <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
                    </svg>
                </button>
            </div>
            <div class="flex-grow hidden w-full mt-2 bg-white lg:flex lg:items-center lg:w-auto lg:block lg:mt-0 dark:bg-gray-800"
                id="nav-content">
                <ul class="items-center justify-end flex-1 list-reset lg:flex">
                    <li class="mr-3">
                        <a class="inline-block text-gray-600 no-underline dark:text-white hover:text-gray-900 dark:hover:text-white hover:text-underline"
                            href="https://ko-fi.com/zhymabekroman" target="_blank">ko-fi</a>
                    </li>
                    <!-- <li class="mr-3">
                    <a class="inline-block text-gray-600 no-underline dark:text-white hover:text-gray-900 dark:hover:text-white hover:text-underline"
                        href="https://codeberg.org/Freedium-cfd/web" target="_blank">source code</a>
                </li>
                <li class="mr-3">
                    <a class="inline-block text-gray-600 no-underline dark:text-white hover:text-gray-900 dark:hover:text-white hover:text-underline"
                        href="https://romans-status-page.vercel.app/status/freedium" target="_blank">status page</a>
                </li> -->
                    <li class="mr-3">
                        <a class="inline-block text-gray-600 no-underline dark:text-white hover:text-gray-900 dark:hover:text-white hover:text-underline"
                            href="https://liberapay.com/ZhymabekRoman/" target="_blank" rel="noreferrer">librepay</a>
                    </li>
                    <li class="mr-3">
                        <a class="inline-block text-gray-600 no-underline dark:text-white hover:text-gray-900 dark:hover:text-white hover:text-underline"
                            href="https://patreon.com/Freedium" target="_blank" rel="noreferrer">patreon</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div
        class="container w-full pt-20 mx-auto text-gray-900 break-words bg-white md:max-w-3xl dark:text-gray-200 dark:bg-gray-800">
        <div class="w-full px-4 text-xl leading-normal text-gray-800 md:px-6 dark:text-gray-100"
            style="font-family:Georgia,serif;">

            <div class="font-sans">
                <p class="pb-3 text-base font-bold text-green-500 md:text-sm">
                    <a href="https://medium.com/@yashbatra11111/how-i-created-a-scalable-go-powered-notification-system-for-real-time-alerts-7af2c29ac657#bypass"
                        class="text-sm font-bold text-green-500 no-underline md:text-sm hover:underline ">&lt; Go to the
                        original</a>
                </p>

                <img alt="Preview image" style="max-height: 65vh;
                            width: auto;
                            margin: auto" loading="eager" referrerpolicy="no-referrer" role="presentation"
                    src="https://miro.medium.com/v2/resize:fit:700/1*qPEWR7bsXT75XB7FMyqbQA.png"
                    class="lightense-target">

                <h1
                    class="pt-6 pb-2 font-sans text-3xl font-bold text-gray-900 break-normal dark:text-gray-100 md:text-4xl">
                    How I Created a Scalable, Go-Powered Notification System for Real-Time Alerts</h1>
                <h2
                    class="pt-1 font-sans font-medium text-gray-600 break-normal dark:text-gray-200 text-1xl md:text-1xl">
                    In today's fast-paced world, real-time notifications are everywhere. From app alerts to email pings
                    to instant messaging, notifications are…</h2>
            </div>
            <div class="m-2 mt-5 bg-gray-100 border border-gray-300 dark:bg-gray-600">
                <div class="flex items-center p-4 space-x-4">
                    <div class="flex-shrink-0">
                        <a href="https://medium.com/@yashbatra11111" target="_blank"
                            title="I'm a software developer in backend and I love to read and share technological content."
                            class="relative block">
                            <img src="https://miro.medium.com/v2/resize:fill:88:88/1*qzg4k1dbmci1Z47Qm6BTsQ@2x.jpeg"
                                alt="Yashbatra" loading="eager" referrerpolicy="no-referrer"
                                class="rounded-full h-11 w-11 no-lightense">
                            <div
                                class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full">
                            </div>
                        </a>
                    </div>
                    <div class="flex-grow">
                        <a href="https://medium.com/@yashbatra11111" target="_blank"
                            title="I'm a software developer in backend and I love to read and share technological content."
                            class="block font-semibold text-gray-900 dark:text-white">Yashbatra</a>
                        <button class="px-3 py-1 mt-1 text-sm text-white bg-green-500 rounded-lg dark:bg-green-700">
                            <a href="https://medium.com/@yashbatra11111" target="_blank"
                                title="I'm a software developer in backend and I love to read and share technological content."
                                class="block text-sm text-white">Follow</a>
                        </button>
                    </div>
                </div>
                <div class="px-4 pb-2">
                    <div class="flex flex-wrap items-center space-x-2 text-sm text-gray-500 dark:text-white">

                        <span class="text-gray-500 dark:text-white">androidstudio</span>
                        <span class="md:inline">·</span>
                        <span class="text-gray-500 dark:text-white">April 17, 2025 (Updated: April 17, 2025)</span>
                        <span class="md:inline">·</span>
                        <span class="text-yellow-500 dark:text-yellow-400">Free: No</span>
                    </div>
                </div>
            </div>
            <div class="mt-8 main-content">
                <p class="leading-8 mt-3">In today's fast-paced world, real-time notifications are everywhere. From app
                    alerts to email pings to instant messaging, notifications are how we stay connected and informed.
                    But building a robust, scalable system to handle millions of real-time notifications? That's a
                    different ballgame.</p>
                <p class="leading-8 mt-7">I recently took on the challenge of building such a system — an
                    <strong>ultra-scalable notification service</strong> that could handle high volumes of
                    notifications, be easily extended for new use cases, and deliver messages in real-time. All of this,
                    powered by Go. Here's how I did it and the lessons I learned along the way.
                </p>
                <h3 id="436b"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    Why Go for Notifications?</h3>
                <p class="leading-8 mt-3">There are a few reasons Go was my language of choice for this project:</p>
                <ol class="pl-8 mt-2 list-decimal">
                    <li class="mt-3"><strong>Concurrency and Parallelism</strong>: Go's goroutines and channels make it
                        a natural fit for systems that require real-time performance and massive concurrency.</li>
                    <li class="mt-3"><strong>Simplicity</strong>: Go's minimalistic syntax allows you to focus on the
                        problem at hand without getting bogged down in language intricacies.</li>
                    <li class="mt-3"><strong>Performance</strong>: Go's lightweight goroutines are efficient in terms of
                        memory, which is essential for handling millions of concurrent connections.</li>
                    <li class="mt-3"><strong>Strong Ecosystem</strong>: Go has a well-established ecosystem for building
                        scalable systems, from message brokers (like Kafka) to libraries that deal with HTTP,
                        websockets, and more.</li>
                </ol>
                <h3 id="a5a8"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    The Problem I Needed to Solve</h3>
                <p class="leading-8 mt-3">The notification system I wanted to build had to meet a few key requirements:
                </p>
                <ul class="pl-8 mt-2 list-disc">
                    <li class="mt-3"><strong>Real-time delivery</strong>: Notifications needed to be sent and received
                        instantaneously.</li>
                    <li class="mt-3"><strong>Scalability</strong>: The system needed to scale to handle millions of
                        notifications a day, with the ability to handle spikes in demand.</li>
                    <li class="mt-3"><strong>Flexibility</strong>: The system should support multiple types of
                        notifications (e.g., push notifications, SMS, emails) and be extensible for future integrations.
                    </li>
                    <li class="mt-3"><strong>Reliability</strong>: Notifications should be guaranteed delivery, even
                        during system failures.</li>
                </ul>
                <p class="leading-8 mt-7">With those requirements in mind, I set out to build the system with the
                    following architecture:</p>
                <h3 id="a499"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    Architecture Overview</h3>
                <p class="leading-8 mt-3">The system is built around a <strong>pub-sub</strong> (publish-subscribe)
                    model, which is great for decoupling different components of the notification system. The general
                    flow works like this:</p>
                <ol class="pl-8 mt-2 list-decimal">
                    <li class="mt-3"><strong>Notification Requests</strong>: Applications or services send notification
                        requests to the system. These requests contain the user data, message content, and type of
                        notification (email, SMS, etc.).</li>
                    <li class="mt-3"><strong>Message Queue</strong>: The requests are placed into a message queue (e.g.,
                        RabbitMQ or Kafka), ensuring that the notifications are handled asynchronously and can be
                        retried in case of failure.</li>
                    <li class="mt-3"><strong>Worker Pool</strong>: A pool of workers (Goroutines) processes the messages
                        from the queue. Each worker pulls a message from the queue, formats it, and sends it through the
                        appropriate channel (push notification, email, etc.).</li>
                    <li class="mt-3"><strong>External Services</strong>: The workers interact with external services
                        (e.g., SMTP for emails, Twilio for SMS, Firebase for push notifications).</li>
                    <li class="mt-3"><strong>Error Handling &amp; Retries</strong>: The system implements retries with
                        exponential backoff in case of network errors or failure from external services.</li>
                </ol>
                <p class="leading-8 mt-7">This architecture allows for <strong>horizontal scaling</strong>. Adding more
                    workers or message queues lets the system handle increased load without affecting the overall
                    performance.</p>
                <h3 id="26c1"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    Key Components of the System</h3>
                <h4 id="08ef"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-l md:text-xl pt-8">1.
                    The Message Queue</h4>
                <p class="leading-8 mt-3">The message queue is the backbone of the notification system. It ensures that
                    we don't lose any messages and that notifications are processed in order. I chose
                    <strong>RabbitMQ</strong> because of its reliability, easy setup, and powerful features like message
                    persistence and consumer acknowledgments.
                </p>
                <p class="leading-8 mt-7">Here's how we create a simple RabbitMQ producer in Go:</p>
                <pre class="flex flex-col justify-center border mt-7 dark:border-gray-700"><button class="p-1 bg-gray-300 hljs-copy dark:bg-zinc-800">Copy</button><code class="p-2 bg-gray-100 dark:bg-gray-900 overflow-x-auto language-go hljs" data-highlighted="yes"><span class="hljs-keyword">import</span> (
    <span class="hljs-string">"github.com/streadway/amqp"</span>
    <span class="hljs-string">"log"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">publishMessage</span><span class="hljs-params">(body <span class="hljs-type">string</span>)</span></span> {
    conn, err := amqp.Dial(<span class="hljs-string">"amqp://guest:guest@localhost:5672/"</span>)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
    <span class="hljs-keyword">defer</span> conn.Close()

    ch, err := conn.Channel()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
    <span class="hljs-keyword">defer</span> ch.Close()

    q, err := ch.QueueDeclare(
        <span class="hljs-string">"notifications"</span>, <span class="hljs-comment">// queue name</span>
        <span class="hljs-literal">true</span>,            <span class="hljs-comment">// durable</span>
        <span class="hljs-literal">false</span>,           <span class="hljs-comment">// auto-delete</span>
        <span class="hljs-literal">false</span>,           <span class="hljs-comment">// exclusive</span>
        <span class="hljs-literal">false</span>,           <span class="hljs-comment">// no-wait</span>
        <span class="hljs-literal">nil</span>,             <span class="hljs-comment">// arguments</span>
    )
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }

    err = ch.Publish(
        <span class="hljs-string">""</span>,      <span class="hljs-comment">// exchange</span>
        q.Name,  <span class="hljs-comment">// routing key (queue name)</span>
        <span class="hljs-literal">false</span>,   <span class="hljs-comment">// mandatory</span>
        <span class="hljs-literal">false</span>,   <span class="hljs-comment">// immediate</span>
        amqp.Publishing{
            ContentType: <span class="hljs-string">"text/plain"</span>,
            Body:        []<span class="hljs-type">byte</span>(body),
        })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
}</code></pre>
                <h4 id="74e1"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-l md:text-xl pt-8">2.
                    Worker Pool</h4>
                <p class="leading-8 mt-3">The worker pool is where the magic happens. Using Go's
                    <strong>goroutines</strong>, I can create concurrent workers that pull messages from the queue and
                    handle the processing of notifications.
                </p>
                <pre class="flex flex-col justify-center border mt-7 dark:border-gray-700"><button class="p-1 bg-gray-300 hljs-copy dark:bg-zinc-800">Copy</button><code class="p-2 bg-gray-100 dark:bg-gray-900 overflow-x-auto language-go hljs" data-highlighted="yes"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">worker</span><span class="hljs-params">(id <span class="hljs-type">int</span>, queueName <span class="hljs-type">string</span>)</span></span> {
    conn, err := amqp.Dial(<span class="hljs-string">"amqp://guest:guest@localhost:5672/"</span>)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
    <span class="hljs-keyword">defer</span> conn.Close()

    ch, err := conn.Channel()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
    <span class="hljs-keyword">defer</span> ch.Close()

    msgs, err := ch.Consume(
        queueName, <span class="hljs-comment">// queue name</span>
        <span class="hljs-string">""</span>,        <span class="hljs-comment">// consumer tag</span>
        <span class="hljs-literal">true</span>,      <span class="hljs-comment">// auto-ack</span>
        <span class="hljs-literal">false</span>,     <span class="hljs-comment">// exclusive</span>
        <span class="hljs-literal">false</span>,     <span class="hljs-comment">// no-local</span>
        <span class="hljs-literal">false</span>,     <span class="hljs-comment">// no-wait</span>
        <span class="hljs-literal">nil</span>,       <span class="hljs-comment">// arguments</span>
    )
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }

    <span class="hljs-keyword">for</span> msg := <span class="hljs-keyword">range</span> msgs {
        log.Printf(<span class="hljs-string">"Worker %d processing: %s"</span>, id, msg.Body)
        <span class="hljs-comment">// Here you can call a function to send the actual notification</span>
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startWorkerPool</span><span class="hljs-params">(numWorkers <span class="hljs-type">int</span>, queueName <span class="hljs-type">string</span>)</span></span> {
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; numWorkers; i++ {
        <span class="hljs-keyword">go</span> worker(i, queueName)
    }
}</code></pre>
                <p class="leading-8 mt-7">This setup allows for the system to scale horizontally by simply increasing
                    the number of workers.</p>
                <h4 id="6d32"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-l md:text-xl pt-8">3.
                    Notification Delivery</h4>
                <p class="leading-8 mt-3">Each worker knows how to deliver a notification based on its type. For
                    instance, for an email notification, I used <strong>Go's </strong><strong><code
                            class="p-1.5 bg-gray-300 dark:bg-gray-600">net/smtp</code></strong><strong> package</strong>
                    to send the email. For SMS, I integrated with <strong>Twilio</strong>.</p>
                <p class="leading-8 mt-7">Here's a simple example of sending an email using <code
                        class="p-1.5 bg-gray-300 dark:bg-gray-600">smtp</code>:</p>
                <pre class="flex flex-col justify-center border mt-7 dark:border-gray-700"><button class="p-1 bg-gray-300 hljs-copy dark:bg-zinc-800">Copy</button><code class="p-2 bg-gray-100 dark:bg-gray-900 overflow-x-auto language-go hljs" data-highlighted="yes"><span class="hljs-keyword">import</span> <span class="hljs-string">"net/smtp"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">(to, subject, body <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">error</span> {
    from := <span class="hljs-string">"your-email@example.com"</span>
    password := <span class="hljs-string">"your-password"</span>

    msg := []<span class="hljs-type">byte</span>(<span class="hljs-string">"To: "</span> + to + <span class="hljs-string">"\r\n"</span> +
        <span class="hljs-string">"Subject: "</span> + subject + <span class="hljs-string">"\r\n\r\n"</span> +
        body + <span class="hljs-string">"\r\n"</span>)

    auth := smtp.PlainAuth(<span class="hljs-string">""</span>, from, password, <span class="hljs-string">"smtp.example.com"</span>)
    err := smtp.SendMail(<span class="hljs-string">"smtp.example.com:587"</span>, auth, from, []<span class="hljs-type">string</span>{to}, msg)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> err
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}</code></pre>
                <h4 id="bd5a"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-l md:text-xl pt-8">4.
                    Error Handling &amp; Retries</h4>
                <p class="leading-8 mt-3">One of the most important aspects of building a reliable notification system
                    is handling failures gracefully. For this, I implemented a <strong>retry mechanism with exponential
                        backoff</strong> for failed notifications, so if an external service is down or experiencing
                    high load, the system will keep trying.</p>
                <p class="leading-8 mt-7">Here's an example of retry logic:</p>
                <pre class="flex flex-col justify-center border mt-7 dark:border-gray-700"><button class="p-1 bg-gray-300 hljs-copy dark:bg-zinc-800">Copy</button><code class="p-2 bg-gray-100 dark:bg-gray-900 overflow-x-auto language-go hljs" data-highlighted="yes"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sendWithRetry</span><span class="hljs-params">(notification <span class="hljs-keyword">func</span>()</span></span> <span class="hljs-type">error</span>, retries <span class="hljs-type">int</span>) <span class="hljs-type">error</span> {
    <span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; retries; i++ {
        err = notification()
        <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        time.Sleep(time.Duration(math.Pow(<span class="hljs-number">2</span>, <span class="hljs-type">float64</span>(i))) * time.Second)
    }
    <span class="hljs-keyword">return</span> err
}</code></pre>
                <h3 id="7661"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    What I Learned</h3>
                <ol class="pl-8 mt-2 list-decimal">
                    <li class="mt-3"><strong>Concurrency is a Game-Changer</strong>: Go's goroutines made the task of
                        managing thousands of simultaneous notifications much easier. Each worker is lightweight and
                        efficient, allowing the system to handle massive scale.</li>
                    <li class="mt-3"><strong>Message Queues Are Essential</strong>: By decoupling the notification
                        processing from the incoming request, we were able to ensure that the system remains responsive
                        even during traffic spikes.</li>
                    <li class="mt-3"><strong>Flexibility is Key</strong>: Designing the system in a modular way, with
                        distinct components for message queues, worker pools, and notification types, made it easy to
                        extend with new services like push notifications, in-app messages, etc.</li>
                    <li class="mt-3"><strong>Scalability Doesn't Have to Be Hard</strong>: With Go's built-in
                        concurrency model, setting up a system that could scale horizontally was surprisingly
                        straightforward.</li>
                </ol>
                <h3 id="93f3"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    What's Next?</h3>
                <p class="leading-8 mt-3">I'm planning on enhancing this notification system with:</p>
                <ul class="pl-8 mt-2 list-disc">
                    <li class="mt-3"><strong>Support for multiple delivery channels</strong> (e.g., Slack, Discord)</li>
                    <li class="mt-3"><strong>Real-time dashboards</strong> for monitoring delivery statuses</li>
                    <li class="mt-3"><strong>Enhanced error tracking</strong> and alerting</li>
                    <li class="mt-3"><strong>Performance optimization</strong> with batching</li>
                </ul>
                <h3 id="96f1"
                    class="font-bold font-sans break-normal text-gray-900 dark:text-gray-100 text-1xl md:text-2xl pt-12">
                    Final Thoughts</h3>
                <p class="leading-8 mt-3">Building this notification system in Go was an incredibly rewarding
                    experience. Not only did I learn about Go's concurrency model in depth, but I also discovered how
                    powerful Go can be for building scalable, real-time systems.</p>
                <p class="leading-8 mt-7">If you're building any kind of real-time service or just want to experiment
                    with concurrency, Go is a fantastic choice. Plus, there's something immensely satisfying about
                    knowing that every message sent through your system reaches its destination without missing a beat.
                </p>
                <p class="leading-8 mt-7">Happy coding!</p>
            </div>
            <div class="flex flex-wrap gap-2 mt-5">
                <a title="Golang" target="_blank" href="https://medium.com/tag/golang"><span
                        class="px-2 py-1 text-xs text-green-500 bg-green-100 rounded-full dark:bg-green-800 dark:text-gray-100">#golang</span></a><a
                    title="Software Development" target="_blank"
                    href="https://medium.com/tag/software-development"><span
                        class="px-2 py-1 text-xs text-green-500 bg-green-100 rounded-full dark:bg-green-800 dark:text-gray-100">#software-development</span></a><a
                    title="Technology" target="_blank" href="https://medium.com/tag/technology"><span
                        class="px-2 py-1 text-xs text-green-500 bg-green-100 rounded-full dark:bg-green-800 dark:text-gray-100">#technology</span></a><a
                    title="Programming" target="_blank" href="https://medium.com/tag/programming"><span
                        class="px-2 py-1 text-xs text-green-500 bg-green-100 rounded-full dark:bg-green-800 dark:text-gray-100">#programming</span></a><a
                    title="Startup" target="_blank" href="https://medium.com/tag/startup"><span
                        class="px-2 py-1 text-xs text-green-500 bg-green-100 rounded-full dark:bg-green-800 dark:text-gray-100">#startup</span></a>
            </div>
            <div class="container w-full pt-12 mx-auto md:max-w-3xl"></div>
        </div>
        <style>
            .main-content {
                letter-spacing: -0.06px;
                font-family: source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif;
            }

            pre {
                font-size: 75%;
                background-color: #e3e2e2;
            }

            p code,
            ul code,
            li code {
                font-size: 75%;
            }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded', (event) => {
                hljs.highlightAll();

                document.querySelectorAll('pre code').forEach((el) => {
                    code = el.textContent;
                    el = el.parentElement;
                    el.innerHTML = '<button class="p-1 bg-gray-300 hljs-copy dark:bg-zinc-800">Copy</button>' + el.innerHTML; // append copy button
                    el.getElementsByClassName('hljs-copy')[0].contentCopy = code;
                    el.getElementsByClassName('hljs-copy')[0].addEventListener("click", function () {
                        this.innerText = 'Copying..';
                        if (!navigator.userAgent.toLowerCase().includes('safari')) {
                            navigator.clipboard.writeText(this.contentCopy);
                        } else {
                            prompt("Clipboard (Select: ⌘+a > Copy:⌘+c)", this.contentCopy);
                        }
                        this.innerText = 'Copied!';
                        button = this;
                        setTimeout(function () {
                            button.innerText = 'Copy';
                        }, 1500)
                    });
                });
            });
        </script>
        <style>
            .hljs-copy {
                float: right;
                cursor: pointer;
            }
        </style>
        <div id="problemModal"
            class="fixed inset-0 flex items-center justify-center hidden w-full h-full overflow-y-auto bg-black bg-opacity-50 modal"
            style="z-index: 999999">
            <div class="w-11/12 max-h-screen mx-auto rounded shadow-lg modal-container md:max-w-xl">
                <div
                    class="px-6 py-4 my-8 text-left text-black bg-white modal-content dark:bg-gray-800 dark:text-white">
                    <h1 class="text-3xl font-bold">Reporting a Problem</h1>
                    <div class="mt-3">
                        <p>
                            Sometimes we have problems displaying some Medium posts.
                            <br>
                            <br>
                        </p>
                        <p>If you have a problem that some images aren't loading - try using VPN. Probably you have
                            problem with
                            access to Medium CDN (or fucking Cloudflare's bot detection algorithms are blocking you).
                        </p>
                    </div>
                    <form action="#" method="POST" class="mt-4" id="problem-form">
                        <div class="mb-4">
                            <label for="problem-description"
                                class="block mb-2 font-bold text-gray-700 dark:text-white">Problem
                                Description</label>
                            <textarea id="problem-description" name="problem-description"
                                placeholder="Describe your problem here..."
                                class="w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                rows="4" required=""></textarea>
                        </div>
                        <div>
                            <button type="submit"
                                class="px-4 py-2 m-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline">Submit</button>
                            <button type="button"
                                class="px-4 py-2 m-2 font-bold text-white bg-gray-500 rounded modal-close hover:bg-gray-700 focus:outline-none focus:shadow-outline">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <script>
            tailwind.config = {
                darkMode: 'class',
            }

            function changeTheme(themeName) {
                // Source: https://stackoverflow.com/questions/59257368/how-to-dynamically-change-the-theme-using-highlight-js
                console.log(`Applying theme: ${themeName}`);
                const existingLink = document.querySelector('link[href*="highlight.js"]');
                if (existingLink) {
                    existingLink.remove();
                }
                const link = document.createElement("link");
                link.rel = "stylesheet";
                link.href = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/${themeName}.min.css`;
                document.head.appendChild(link);
                document.querySelector("span").textContent = themeName;
            }

            function navigateToOrigin() {
                window.location.href = window.location.origin;
            }

            function updateThemeIcons() {
                const isDarkMode = localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
                document.getElementById('darkIcon').classList.toggle('hidden', !isDarkMode);
                document.getElementById('lightIcon').classList.toggle('hidden', isDarkMode);
            }

            updateThemeIcons();

            document.getElementById('darkModeToggle').addEventListener('click', function () {
                const isDarkMode = localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
                if (isDarkMode) {
                    document.documentElement.classList.remove('dark');
                    document.documentElement.style.cssText = "--lightense-backdrop: white;";
                    localStorage.setItem("theme", "light");
                    changeTheme("a11y-light");
                } else {
                    document.documentElement.classList.add('dark');
                    document.documentElement.style.cssText = "--lightense-backdrop: black;";
                    localStorage.setItem("theme", "dark");
                    changeTheme("androidstudio");
                }
                updateThemeIcons();
            })

            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
                //document.getElementById('darkIcon').classList.remove('hidden');
                //document.getElementById('lightIcon').classList.add('hidden')
                changeTheme("androidstudio");
            } else {
                document.documentElement.classList.remove('dark')
                //document.getElementById('lightIcon').classList.remove('hidden');
                //document.getElementById('darkIcon').classList.add('hidden');
                changeTheme("a11y-light");
            }
        </script>
        <script>
            const openModalButton = document.getElementById('openProblemModal');
            const closeModalButton = document.querySelector('.modal-close');
            const modal = document.getElementById('problemModal');
            const problemDescriptionInput = document.getElementById('problem-description');
            const submitButton = document.querySelector('form button');
            const body = document.querySelector('body');

            openModalButton.addEventListener('click', () => {
                body.classList.add('!overflow-hidden'); // Prevent scrolling on the body
                modal.classList.remove('hidden');
            });

            closeModalButton.addEventListener('click', () => {
                body.classList.remove('!overflow-hidden'); // Re-enable scrolling on the body
                modal.classList.add('hidden');
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    body.classList.remove('!overflow-hidden');
                }
            });

            function navigateNoCache() {
                window.location.href = `/render-no-cache${window.location.pathname}`;
            }

            const submitForm = async (event) => {
                event.preventDefault();

                console.log('Form submiting is started!');
                submitButton.disabled = true;

                // Get the problem description from the input field
                const problemDescription = problemDescriptionInput.value;
                const currentPage = window.location.href;

                try {
                    // Send a POST request to the "report-problem" API endpoint
                    const response = await fetch('/report-problem', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ description: problemDescription, page: currentPage }),
                    });

                    if (response.ok) {
                        // Report submitted successfully, you can add a success message or further actions here
                        console.log('Problem report submitted successfully.');
                        modal.classList.add('hidden'); // Close the modal
                    } else {
                        // Handle errors, such as non-200 responses
                        console.error('Failed to submit problem report.');
                        submitButton.disabled = false;
                    }
                } catch (error) {
                    // Handle network errors or other exceptions
                    console.error('An error occurred:', error);
                    submitButton.disabled = false;
                }
            };

            document.getElementById('problem-form').onsubmit = submitForm;
        </script>
        <script>
            const h = document.documentElement, b = document.body;
            const st = 'scrollTop';
            const sh = 'scrollHeight';
            const progress = document.getElementById('progress');
            const header = document.getElementById('header');
            const navcontent = document.getElementById('nav-content');

            document.addEventListener('scroll', function () {
                /* Refresh scroll % width */
                const scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
                progress.style.setProperty('--scroll', scroll + '%');

                /* Apply classes for slide in bar */
                const shouldAddClass = window.scrollY > 10;
            });

            document.getElementById('nav-toggle').onclick = function () {
                document.getElementById("nav-content").classList.toggle("hidden");
            }

            window.addEventListener('load', function () {
                Lightense('img:not(.no-lightense)');
            }, false);
        </script>
        <!-- <script>
    var lazyLoadInstance = new LazyLoad({
        callback_loaded: function (element) {
            console.log(element);
            console.log(element.tagName);
            switch (element.tagName) {
                case "IMG":
                    console.log(`${element} is image, wrapping into lightense`);
                    Lightense(element);
                    break;
                case "IFRAME":
                    const resizeIframe = () => {
                        console.log(`${element} is iframe, wrapping script`);
                        let iframeHeight = element.contentWindow.document.body.scrollHeight;
                        if (iframeHeight == 150) {
                            iframeHeight = 500;
                        }
                        element.style.height = iframeHeight + 'px';
                    };
                    window.addEventListener('resize', resizeIframe);
                    setInterval(resizeIframe, 4500);
                    resizeIframe();
                    break;
            }
        },
        callback_error: (element) => {
            console.log(element);
            if (element.tagName === "IMG" && element.hasAttribute("data-src")) {
                const srcAttribute = element.attributes["data-src"].value;
                if (srcAttribute.startsWith("https://miro.medium.com/v2/")) {
                    element.setAttribute("src", srcAttribute.replace("https://miro.medium.com/v2/", "https://freedium.cfd/@miro/v2/"));
                }
            }
        }
    });
</script> -->
        <script>
            function navigateToOrigin() {
                window.location.href = window.location.origin;
            }
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const notificationContainer = document.querySelector('.notification-container');
                const closeButton = document.querySelector('.close-button');
                const notificationFlagString = "showNotification-dmca-canva-2024"
                const body = document.querySelector('body');

                function showNotification() {
                    if (!localStorage.getItem(notificationFlagString)) {
                        notificationContainer.style.display = 'block';
                        body.classList.add('!overflow-hidden');
                    }
                }

                function hideNotification() {
                    localStorage.setItem(notificationFlagString, 'false');
                    notificationContainer.style.display = 'none';
                    body.classList.remove('!overflow-hidden');
                }

                closeButton.addEventListener('click', () => {
                    hideNotification();
                });

                // showNotification();
            });
        </script>


    </div>
    <div class="lightense-backdrop"></div>
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open">
        <style>
            div.grammarly-desktop-integration {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            div.grammarly-desktop-integration:before {
                content: attr(data-content);
            }
        </style>
        <div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration"
            data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}">
        </div>
    </template></grammarly-desktop-integration>

</html>